server {
  listen 80;

  # Force SSL connections on agents (browsers) who support this header.
  add_header Strict-Transport-Security "max-age=31536000; includeSubDomains;";

  if ($http_x_forwarded_proto = "http") {
    return 301 https://$host$request_uri;
  }

  root   /usr/share/nginx/html;
  index  index.html;

  location / {
    try_files $uri /index.html =404;
  }
}